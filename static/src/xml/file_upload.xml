<templates>
    <t t-name="input_mask.rpcUpload">
        <!-- Drag-and-drop area -->
        <div
                id="dropArea"
                t-on-dragover="handleDragOver"
                t-on-drop="handleDrop"
                class="drop-area"
        >
            <p>Drag and drop files here or click to select files.</p>
            <input type="file" id="fileInput" multiple="multiple" t-on-change="handleFileChange"/>
        </div>

        <t t-if="isLoading">
            <p>Loading...</p>
        </t>

        <t t-if="hasError">
            <p>Error: <t t-esc="state.error"/></p>
        </t>

        <!-- File details or no files message -->
        <t t-if="!isLoading and !hasError">
            <t t-if="state.fileDetails.length > 0">
                <ul>
                    <t t-foreach="state.fileDetails" t-as="fileDetail" t-key="fileDetail.id">
                        <li class="tw-flex tw-bg-[#e9e9e9] tw-justify-between tw-items-center p-2 tw-rounded-sm tw-mt-2">
                            <div>
                                <p><strong>Name:</strong> <t t-esc="fileDetail.name"/></p>
                                <p><strong>Size:</strong> <t t-esc="fileDetail.size"/> bytes</p>
                            </div>

                            <button t-on-click="() => handleDelete(fileDetail.id)"
                                    class="o_clear_file_button btn btn-light border-0 rounded-circle m-1 p-1">
                                <i class="fa fa-trash-o fa-fw"/>
                            </button>
                        </li>
                    </t>
                </ul>
            </t>
            <t t-else="">
                <p>No files uploaded yet.</p>
            </t>
        </t>
    </t>
</templates>
